!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.lispToArray=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(a,c){b.exports[a]=d(a,c)}var d=a("./tools/prefix-to-infix");b.exports={js:a("./functions/js"),def:a("./functions/def"),let:a("./functions/let"),"`":a("./functions/`"),try:a("./functions/try"),catch:a("./functions/catch"),".-":a("./functions/.-"),".":a("./functions/..js"),do:a("./functions/do"),if:a("./functions/if"),fn:a("./functions/fn"),"=":a("./functions/="),with:a("./functions/with"),import:a("./functions/import"),export:a("./functions/export")},["<","+","-","*","/","%"].forEach(function(a){c(a)})},{"./functions/.-":2,"./functions/..js":3,"./functions/=":4,"./functions/`":5,"./functions/catch":6,"./functions/def":7,"./functions/do":8,"./functions/export":9,"./functions/fn":10,"./functions/if":11,"./functions/import":12,"./functions/js":13,"./functions/let":14,"./functions/try":15,"./functions/with":16,"./tools/prefix-to-infix":21}],2:[function(a,b){var c=a("../tools/quote"),d=a("../transpile");b.exports=function(a,b,e){var f="env["+c(a)+"]["+c(d(b))+"]";return arguments.length>2&&(f+=" = "+d(e)),f}},{"../tools/quote":22,"../transpile":25}],3:[function(a,b){var c=a("../transpile");b.exports=function(a,b){return this[".-"](a,b)+"("+[].slice.call(arguments,2).map(c).join(", ")+")"}},{"../transpile":25}],4:[function(a,b){var c=a("../tools/expression"),d=a("../transpile");b.exports=function(a,b){return new c(d(a)+" === "+d(b))}},{"../tools/expression":17,"../transpile":25}],5:[function(a,b){var c=a("../tools/quote");b.exports=function(a){return"string"==typeof a?c(a):JSON.stringify(a)}},{"../tools/quote":22}],6:[function(a,b){var c=a("../tools/wrap"),d=a("./let");b.exports=function(a,b){return c("catch(__e) {",d([a,"__e"],b),"}")}},{"../tools/wrap":24,"./let":14}],7:[function(a,b){var c=a("../tools/quote"),d=a("../transpile"),e=a("../tools/expression");b.exports=function(a,b){return new e("env["+c(a)+"] = "+d(b))}},{"../tools/expression":17,"../tools/quote":22,"../transpile":25}],8:[function(a,b){var c=a("../tools/iife"),d=a("../transpile");b.exports=function(){return c([].slice.call(arguments).map(d))}},{"../tools/iife":19,"../transpile":25}],9:[function(a,b){var c=a("../tools/expression"),d=a("../transpile");b.exports=function(a){var b="module.exports";return arguments.length>1&&(b+="["+d(arguments[0])+"]",a=arguments[1]),new c(b+" = "+d(a))}},{"../tools/expression":17,"../transpile":25}],10:[function(a,b){var c=a("../tools/expression"),d=a("../tools/func"),e=a("./let");b.exports=function(a,b){return d(["var __args = arguments",e(a.reduce(function(a,b,d){return"&"!==b&&a.push(b,new c("__args["+d+"]")),a},[]),b)])}},{"../tools/expression":17,"../tools/func":18,"./let":14}],11:[function(a,b){var c=a("../tools/indent"),d=a("../transpile");b.exports=function(a,b,e){return"(("+d(a)+")\n"+c("? "+d(b))+"\n"+c(": "+d(e))+")"}},{"../tools/indent":20,"../transpile":25}],12:[function(a,b){var c=a("../tools/expression"),d=a("../transpile");b.exports=function(a){return new c("require("+d(a)+")")}},{"../tools/expression":17,"../transpile":25}],13:[function(a,b){b.exports=function(a){return a}},{}],14:[function(a,b){var c=a("./with"),d=a("./def"),e=a("../tools/expression");b.exports=function(a,b){var f=[];return a.forEach(function(b,c){c%2&&f.push(d(a[c-1],a[c]))},this),c(new e("Object.create(env)"),f.concat([b]))}},{"../tools/expression":17,"./def":7,"./with":16}],15:[function(a,b){var c=a("../tools/wrap"),d=a("../transpile");b.exports=function(a,b){if(!Array.isArray(b)||"catch"!==b[0]||3!==b.length)throw new Error("Expects argument 1 of try to be a catch with length 3");return c("try {",d(a),"} "+d(b))}},{"../tools/wrap":24,"../transpile":25}],16:[function(a,b){var c=a("../tools/iife"),d=a("../transpile");b.exports=function(a,b){return c([d(b)],["env"],[d(a)])}},{"../tools/iife":19,"../transpile":25}],17:[function(a,b){function c(a){this.val=a}c.prototype.toString=function(){return this.val},b.exports=c},{}],18:[function(a,b){var c=a("./wrap"),d=a("./stmts");b.exports=function(a,b){var e=a.slice(),f=e.pop();return c("(function("+(b||[]).join(", ")+") {",d(e.concat(["return "+f])),"})")}},{"./stmts":23,"./wrap":24}],19:[function(a,b){var c=a("./func");b.exports=function(a,b,d){return c(a,b)+"("+(d||[]).join(", ")+")"}},{"./func":18}],20:[function(a,b){var c=a("./expression");b.exports=function a(b){return"object"==typeof b&&b instanceof c?new c(a(b.val)):"    "+b.replace(/\n/g,"\n    ")}},{"./expression":17}],21:[function(a,b){var c=a("./expression"),d=a("../transpile");b.exports=function(a,b){return b=b||2,function(){return new c([].slice.call(arguments,0,b).map(d).join(" "+a+" "))}}},{"../transpile":25,"./expression":17}],22:[function(a,b){function c(a){this.str=a}c.prototype.toString=function(){return JSON.stringify(String(this.str))},b.exports=function(a){return"object"==typeof a&&a instanceof c?a:new c(a)}},{}],23:[function(a,b){b.exports=function(a){return a.join(";\n")+(a.length?";":"")}},{}],24:[function(a,b){var c=a("./indent");b.exports=function(a,b,d){return a+"\n"+c(b)+"\n"+d}},{"./indent":20}],25:[function(a,b){var c,d=a("./tools/quote");b.exports=function a(b){return"string"==typeof b?"env["+d(b)+"]":"object"!=typeof b?JSON.stringify(b):Array.isArray(b)?b[0]in c?("function"!=typeof c[b[0]]&&console.log(b[0]),c[b[0]].apply(c,b.slice(1))):(b=b.map(a),b[0]+"("+b.slice(1).join(", ")+")"):b},c=a("./functions")},{"./functions":1,"./tools/quote":22}],26:[function(require,module,exports){function transpileProgram(a){return stmts([iife([transpile(a)],["env"],["Object.create(null)"])])}var stmts=require("./lib/tools/stmts"),iife=require("./lib/tools/iife"),transpile=require("./lib/transpile");module.exports=transpileProgram,transpileProgram.transpile=transpile,transpileProgram.exec=function(arr){return eval(this(arr))}},{"./lib/tools/iife":19,"./lib/tools/stmts":23,"./lib/transpile":25}],27:[function(a){!function(b){var c=a("lisp-array-to-js"),d=b.querySelector('form[name="lisp-array-to-js"]'),e=ace.edit(d.querySelector('[name="input"]')),f=ace.edit(d.querySelector('[name="output"]')),g=d.querySelector('[name="error"]');e.getSession().on("change",function(){var a;try{a=c(JSON.parse(e.getValue()))}catch(a){g.textContent=a.toString()}a&&(e.getSession().setAnnotations([]),f.setValue(a,-1),g.textContent="")}),[e,f].forEach(function(a){a.setTheme("ace/theme/monokai"),a.getSession().setMode("ace/mode/"+a.container.dataset.mode),a.setReadOnly("disabled"in a.container.dataset)}),e.setValue(e.getValue(),1)}(document)},{"lisp-array-to-js":26}]},{},[27])(27)});